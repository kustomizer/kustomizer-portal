# Project Rules (OpenCode Workbench)

This file defines **how we work** (coding rules, review expectations, safe execution).

Source of truth for stack and workflows lives in `openspec/project.md`.

## Working Agreement

- Prefer small, reviewable changes over large rewrites.
- For non-trivial work, follow the spec-driven workflow:
  - Create/update `openspec/changes/<change>/proposal.md` and `openspec/changes/<change>/tasks.md`
  - Get approval from a human reviewer
  - Implement tasks
  - Keep `openspec/specs/` updated as the living documentation of behavior

## Clean Code Baseline

- Keep functions small and single-purpose.
- Use clear names. Avoid cleverness.
- Prefer explicit types over inference when it improves readability.
- Avoid hidden coupling between packages.

## Security Baseline

- Never read or commit secrets (`.env`, credentials, tokens).
- Validate external inputs at boundaries (HTTP handlers, message consumers).
- Prefer safe defaults; fail closed.

## Tooling

- Use `cc-safety-net` plugin + `.safety-net.json` to prevent destructive git/fs commands.
- Use Context7 MCP for up-to-date official docs.

<!-- OPENCODE_WORKBENCH_CONFIGURE_START -->
## Repo Workflow (Auto)

This block is generated by `opencode-workbench configure`.
Edit outside this block.

Detected packages:
- . (landing)

Project docs (recommended):
- `AGENTS.md`
- `README.md`

Recommended checks:
- In OpenCode: `/lint`, `/typecheck`, `/test` (where applicable)
- In CLI: `npx -y @saikus08/opencode-workbench@0.1.9 run-task lint|typecheck|test|build`

Note: Workbench intentionally does not guess semantic roles like api/web. Keep those decisions in `openspec/project.md`.
<!-- OPENCODE_WORKBENCH_CONFIGURE_END -->

## Local Runtime Notes

- Node: prefer `24.x` (Angular build is compatible; Node 21 may fail).
- Build: `npm run build`
- SSR serve (after build): `node dist/Landing/server/server.mjs`
